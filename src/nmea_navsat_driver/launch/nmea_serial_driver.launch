<launch>

  <!-- A simple launch file for the nmea_serial_driver node. -->

  <arg name="port" default="/dev/ttyUSB0" />
  <arg name="baud" default="115200" />
  <arg name="frame_id" default="gps_link" />
  <arg name="use_GNSS_time" default="False" />
  <arg name="time_ref_source" default="gps" />
  <arg name="useRMC" default="True" />

  <!-- Huge covariance -->
  <!-- <arg name="useRMC" default="False" /> -->

  <node name="nmea_serial_driver_node" pkg="nmea_navsat_driver" type="nmea_serial_driver" output="screen">
    <param name="port" value="$(arg port)"/>
    <param name="baud" value="$(arg baud)" />
    <param name="frame_id" value="$(arg frame_id)" />
    <param name="use_GNSS_time" value="$(arg use_GNSS_time)" />
    <param name="time_ref_source" value="$(arg time_ref_source)" />
    <param name="useRMC" value="$(arg useRMC)" />
    <param name="update_rate" value="10" />
    <!-- <remap from="/fix" to="/gps/fix"/> -->
  </node>

  <node pkg="tf" type="static_transform_publisher" name="gps_link_to_base_link" 
      args="0 0 0 0 0 0 base_link gps_link 100" />

</launch>
